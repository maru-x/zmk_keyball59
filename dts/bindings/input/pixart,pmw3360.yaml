# Copyright (c) 2025 The ZMK Contributors
# SPDX-License-Identifier: MIT
description: |
  Sensor driver for the pixart PMW3360 optical mouse sensor

compatible: "pixart,pmw3360"

include: spi-device.yaml

properties:
  irq-gpios:
    type: phandle-array
  cpi:
    type: int
    default: 4000
    description: "CPI value (Range: 50 - 8200)"
  snipe_cpi:
    type: int
    default: 200
    description: "CPI value (Range: 50 - 8200)"
  rotate-90:
    type: boolean
    description: "The sensor is installed rotated 90 degrees. Rotation properties are mutually exclusive."
  rotate-180:
    type: boolean
    description: "The sensor is installed rotated 180 degrees. Rotation properties are mutually exclusive."
  rotate-270:
    type: boolean
    description: "The sensor is installed rotated 270 degrees. Rotation properties are mutually exclusive."
  angle-tune:
    type: int
    default: -3
    description: "Adjust the sensor angle in degrees (Range: -30 - 30)."
  lift-height-3mm:
    type: boolean
    description: "Configure the lift-off height to be 3mm rather than the default 2mm."
  polling-interval:
    type: int
    default: 1000
    description: "The time, in microseconds, to wait between sensor polls when operating without an irq configured."
  mouse-x-inverted:
    type: boolean
    description: "Invert the X-axis movement."
  mouse-y-inverted:
    type: boolean
    description: "Invert the Y-axis movement."
  mouse-wheel-x-inverted:
    type: boolean
    description: "Invert the X-axis movement of the mouse wheel."
  mouse-wheel-y-inverted:
    type: boolean
    description: "Invert the Y-axis movement of the mouse wheel."
  automouse-layer:
    type: int
    default: -1
    required: false
    description: Layer number to activate on mouse movement
  scroll-layer:
    type: int
    default: -1
    required: false
    description: Layer number to activate on scroll wheel movement
  snipe-layer:
    type: int
    default: -1
    required: false
    description: Layer number to activate on snipe button press
  scroll-ticks:
    type: int
    default: 200
    description: "Number of scroll wheel ticks to send per scroll wheel movement event."
